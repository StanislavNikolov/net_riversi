<!DOCTYPE html>
<html>
	<head>
		<style>
		</style>
	</head>

	<body>
		<script>
			const fmtDate = str => {
				const date = new Date(str);

				const hour = String(date.getHours()).padStart(2, '0');
				const minute = String(date.getMinutes()).padStart(2, '0');
				const seconds = String(date.getSeconds()).padStart(2, '0');

				const month = String(date.getMonth()+1).padStart(2, '0');
				const day = String(date.getDate()).padStart(2, '0');

				return `${hour}:${minute}:${seconds} ${date.getFullYear()}-${month}-${day}`;
			}
			fetch('/api/games')
				.then(resp => resp.json())
				.then(games => {
					if(games == null) {
						return;
					}

					for (let idx = games.length-1;idx >= 0;idx --) {
						const game = games[idx];

						document.body.innerHTML += `
						${fmtDate(game.started)} <a href="/view_game.html?id=${game.id}">${game.players[0]} vs. ${game.players[1]}</a> <br>
						`;
					}
				})
		</script>
	</body>
</html>
