<!DOCTYPE html>
<html>
	<head>
		<style>
		</style>
	</head>

	<body>
		<script>
			const fmtDate = str => {
				const date = new Date(str);
				const month = String(date.getMonth()+1).padStart(2, '0');
				const day = String(date.getDate()).padStart(2, '0');
				return `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()} ${date.getFullYear()}-${month}-${day}`;
			}
			fetch('/api/games')
				.then(resp => resp.json())
				.then(games => {
					if(games == null) {
						return;
					}

					for (const game of games) {
						document.body.innerHTML += `
						<a href="/view_game.html?id=${game.id}">${fmtDate(game.started)} ${game.players[0]} vs. ${game.players[1]}</a>
						`;
						console.log(game);
					}
				})
		</script>
	</body>
</html>